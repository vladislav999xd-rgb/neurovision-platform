# NeuroVision Platform

## Интеллектуальная видеоплатформа для анализа нейрохирургических операций

### Описание продукта

**NeuroVision Platform** — это AI-powered система для автоматического анализа и структурирования видеозаписей нейрохирургических операций. Платформа превращает многочасовые видео в удобный поисковый архив, позволяя хирургам и медицинскому персоналу быстро находить релевантные фрагменты по этапам операции, используемым инструментам, анатомическим структурам и критическим событиям.

Система использует современные методы компьютерного зрения (scene segmentation, object detection, instance segmentation) для автоматической разметки видео. Врачи могут выполнять комбинированный поиск с фильтрами, просматривать таймлайн с маркерами этапов, и мгновенно переходить к нужным моментам операции.

**Важно:** Это аналитический инструмент для обучения и ретроспективного анализа. Платформа не предоставляет медицинских рекомендаций и не предназначена для использования во время операций.

---

## Быстрый старт

### Windows
```bash
# Запуск одной командой
start.bat
```

### Вручную
```bash
# 1. Установить зависимости backend
cd backend
npm install

# 2. Запустить сервер
npm start

# 3. Открыть в браузере
# http://localhost:3000
```

---

## Структура проекта

```
neurovision-platform/
├── frontend/                 # Клиентская часть (HTML/CSS/JS)
│   ├── index.html           # Главная страница (Login)
│   ├── dashboard.html       # Список операций
│   ├── upload.html          # Загрузка видео
│   ├── viewer.html          # Просмотр операции
│   ├── archive.html         # Архив и поиск
│   ├── css/
│   │   └── styles.css       # Общие стили
│   └── js/
│       ├── api.js           # API клиент
│       ├── auth.js          # Авторизация (заглушка)
│       ├── dashboard.js     # Логика дашборда
│       ├── upload.js        # Логика загрузки
│       ├── viewer.js        # Видеоплеер + таймлайн
│       └── archive.js       # Поиск и фильтры
├── backend/                  # Серверная часть (Node.js/Express)
│   ├── package.json
│   ├── server.js            # Точка входа
│   ├── routes/
│   │   ├── operations.js    # CRUD операций
│   │   ├── search.js        # Поисковые эндпойнты
│   │   └── tags.js          # Справочники
│   ├── models/
│   │   └── schemas.js       # JSON схемы данных
│   ├── data/
│   │   ├── operations.json  # Демо-операции
│   │   └── tags.json        # Справочники тегов
│   └── middleware/
│       └── auth.js          # Авторизация (заглушка)
├── docs/
│   ├── ARCHITECTURE.md      # Архитектура системы
│   ├── CV_PIPELINE.md       # Computer Vision пайплайн
│   ├── MLOPS.md             # MLOps дизайн
│   └── API.md               # Документация API
├── start.bat                # Скрипт запуска (Windows)
└── README.md                # Этот файл
```

---

## Функциональность

### 1. Поиск по этапам операции
- Автоматическое разбиение видео на сцены/этапы
- Таймлайн с маркерами и возможностью перехода

### 2. Поиск по инструментам
- AI распознавание инструментов (микроножницы, биполяр, аспиратор и др.)
- Фильтрация фрагментов по присутствию инструмента

### 3. Поиск по анатомическим структурам
- Идентификация артерий, нервов, опухолей
- Визуальная подсветка на кадрах

### 4. Выявление событий
- Детекция осложнений (кровотечение, повреждение)
- Маркировка критических моментов

### 5. Комбинированный поиск
- Множественные фильтры
- Поиск по дате, хирургу, типу операции

### 6. Автоматические субтитры
- Транскрипция аудио
- Перевод на русский язык

---

## Технологии

| Компонент | Технология |
|-----------|------------|
| Frontend | HTML5, CSS3, Vanilla JavaScript |
| Backend | Node.js, Express.js |
| Хранилище (MVP) | In-memory JSON |
| Хранилище (Production) | PostgreSQL + S3/MinIO |
| CV/ML | PyTorch, ONNX, OpenCV |
| MLOps | DVC, MLflow, Docker, Kubernetes |

---

## API Endpoints

| Метод | Endpoint | Описание |
|-------|----------|----------|
| POST | /api/videos/upload | Загрузка видео |
| GET | /api/operations | Список операций |
| GET | /api/operations/:id | Детали операции |
| GET | /api/operations/:id/segments | Сегменты операции |
| POST | /api/search | Комбинированный поиск |
| GET | /api/tags | Справочники тегов |

---

## Демо-данные

MVP включает демо-операции с реальными видео из открытых источников:
- Удаление менингиомы
- Клипирование аневризмы
- Резекция глиомы

---

## Лицензия

Для внутреннего использования. Медицинские данные обрабатываются в соответствии с принципами GDPR/HIPAA.
